if status is-interactive
    # PATH ------------------------------
    set PATH ~/.local/bin ~/.cargo/bin/ $PATH

    # PROMPT ------------------------------
    set fish_greeting

    # MAC-LIKE COPY, PASTE, DOWNLOAD ------------------------------
    switch (uname -o)
        case GNU/Linux
            if command -v xclip &>/dev/null
                alias pbcopy='xclip -selection clipboard'
                alias pbpaste='xclip -selection clipboard -o'
            else if command -v xsel &>/dev/null
                alias pbcopy='xsel --clipboard --input'
                alias pbpaste='xsel --clipboard --output'
            else if command -v wl-copy &>/dev/null
                alias pbcopy=wl-copy
                alias pbpaste=wl-paste
            end
            alias open=xdg-open
        case Android
            alias pbcopy='termux-clipboard-set'
            alias pbpaste='termux-clipboard-get'
            alias open='termux-open'
        case Darwin
            # MAC AND HOMEBREW SPECIFIC CONFIG ------------------------------
            alias charm='/Applications/PyCharm\ CE.app/Contents/MacOS/pycharm'
            set PATH /opt/homebrew/bin $PATH
            set HOMEBREW_INSTALL_FROM_API 1
    end
    alias pbc=pbcopy
    alias pbp=pbpaste
    alias o=open

    # EDITOR ------------------------------
    if command -v emacs &>/dev/null
        alias em="emacs -nw -Q --eval '(progn (setq make-backup-files nil) (menu-bar-mode -1))'"
        alias macs="emacsclient -a '' -c -nw"
    end
    if command -v nvim &>/dev/null
        set -gx VISUAL nvim
        alias vi=nvim
    end
    set -gx EDITOR vi
    if command -v fzf &>/dev/null
        alias vf='vi $(fzf)'
    end

    # PYTHON ------------------------------
    alias ve='python3 -m venv ./venv'
    alias va='source ./venv/bin/activate'
    alias vd=deactivate
    alias www='ifconfig | grep broadcast ; python3 -m http.server'

    # GENERATE PASSWORD ------------------------------
    if command -v openssl &>/dev/null
        alias getpass="openssl rand -base64 20"
    end

    # DOWNLOAD FILES ------------------------------
    if command -v aria2c &>/dev/null
        alias get='aria2c --continue --remote-time --max-tries=0'
    else if command -v curl &>/dev/null
        alias get='curl --continue-at - --location --progress-bar --remote-name --remote-time'
    else if command -v wget &>/dev/null
        alias get='wget --continue --progress=bar --timestamping'
    end

    # VIEW RESOURCE USAGE ------------------------------
    alias df='df -kh'
    alias du='du -kh'

    # LISTING DIRECTORY ------------------------------
    if command -v gls &>/dev/null
        alias ls=gls
    end
    alias l='ls -1A' # Lists in one column, hidden files.
    alias ll='ls -lh' # Lists human readable sizes.
    alias lr='ll -R' # Lists human readable sizes, recursively.
    alias la='ll -A' # Lists human readable sizes, hidden files.
    alias lm='la | "$PAGER"' # Lists human readable sizes, hidden files through pager.
    alias lk='ll -Sr' # Lists sorted by size, largest last.
    alias lt='ll -tr' # Lists sorted by date, most recent last.
    alias lc='lt -c' # Lists sorted by date, most recent last, shows change time.
    alias lu='lt -u' # Lists sorted by date, most recent last, shows access time.
    function cdl -d "cd into directory and list it's contents"
        cd $argv[1]
        la
    end
    function mkcd -d "Make directory and cd into it"
        mkdir $argv[1]
        cd $argv[1]
    end

    # COPY FILES WITH PROGRESS BAR ------------------------------
    if command -v rsync &>/dev/null
        alias cpv='rsync -ah --info=progress2'
    end
    alias ff='find . -type f -iname'

    # MANAGING DOTFILES ------------------------------
    if command -v chezmoi &>/dev/null
        alias cz='chezmoi'
        alias czu='chezmoi update'
        alias czp='chezmoi apply'
        alias cza='chezmoi add'
        alias czcd='chezmoi cd'
        alias cze='chezmoi edit'
        alias czea='chezmoi edit --apply'
        alias czra='chezmoi re-add'
    end

    # TMUX SESSIONS ------------------------------
    function tm
        if count $argv >/dev/null
            tmux a -t $argv || tmux new -s $argv
        else
            tmux a || tmux
        end
    end
    alias tml='tmux list-sessions'

    # FILE MANAGER ------------------------------
    if command -v lf &>/dev/null
        function lfcd --wraps="lf" --description="lf - Terminal file manager (changing directory on exit)"
            # `command` is needed in case `lfcd` is aliased to `lf`.
            # Quotes will cause `cd` to not change directory if `lf` prints nothing to stdout due to an error.
            cd "$(command lf -print-last-dir $argv)"
        end
        alias lf=lfcd
    end

end

## PACKAGE MANAGER AND PACKAGES ------------------------------
#if ! type -q fisher &>/dev/null
#    if command -v curl &>/dev/null
#        curl -sL https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish | source && fisher install jorgebucaran/fisher
#    else if command -v wget &>/dev/null
#        wget -qO- https://raw.githubusercontent.com/jorgebucaran/fisher/main/functions/fisher.fish | source && fisher install jorgebucaran/fisher
#    end
#    fish_update_completions
#end
#if ! type -q tide &>/dev/null
#    fisher install IlanCosman/tide@v6
#    switch (uname -o)
#        case Android
#            tide configure --auto --style=Classic --prompt_colors='True color' --classic_prompt_color=Darkest --show_time='24-hour format' --classic_prompt_separators=Slanted --powerline_prompt_heads=Slanted --powerline_prompt_tails=Slanted --powerline_prompt_style='Two lines, character' --prompt_connection=Solid --powerline_right_prompt_frame=No --prompt_connection_andor_frame_color=Darkest --prompt_spacing=Sparse --icons='Few icons' --transient=Yes
#        case GNU/Linux
#            tide configure --auto --style=Classic --prompt_colors='True color' --classic_prompt_color=Darkest --show_time='24-hour format' --classic_prompt_separators=Slanted --powerline_prompt_heads=Slanted --powerline_prompt_tails=Slanted --powerline_prompt_style='Two lines, character' --prompt_connection=Solid --powerline_right_prompt_frame=No --prompt_connection_andor_frame_color=Darkest --prompt_spacing=Sparse --icons='Many icons' --transient=Yes
#        case Darwin
#            tide configure --auto --style=Classic --prompt_colors='True color' --classic_prompt_color=Darkest --show_time='24-hour format' --classic_prompt_separators=Slanted --powerline_prompt_heads=Slanted --powerline_prompt_tails=Slanted --powerline_prompt_style='Two lines, character' --prompt_connection=Solid --powerline_right_prompt_frame=No --prompt_connection_andor_frame_color=Darkest --prompt_spacing=Sparse --icons='Many icons' --transient=Yes
#    end
#    fisher install catppuccin/fish
#    yes | fish_config theme save "Catppuccin Mocha"
#end

# CONDA ------------------------------
# >>> conda initialize >>>
# !! Contents within this block are managed by 'conda init' !!
if test -f $HOME/.anaconda3/bin/conda
    eval $HOME/.anaconda3/bin/conda "shell.fish" hook $argv | source
    if test -f "$HOME/.anaconda3/etc/fish/conf.d/mamba.fish"
        source "$HOME/.anaconda3/etc/fish/conf.d/mamba.fish"
    end
    # kill the right prompt __conda_add_prompt ðŸ˜ 
    function __conda_add_prompt
    end
    conda config --set auto_activate_base false
end

# <<< conda initialize <<<

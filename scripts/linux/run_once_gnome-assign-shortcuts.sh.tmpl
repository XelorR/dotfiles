#!{{ lookPath "sh" }}

# gsettings list-recursively org.gnome.desktop.wm.keybindings | grep to-workspace
# org.gnome.desktop.wm.keybindings move-to-workspace-5 @as []
# org.gnome.desktop.wm.keybindings switch-to-workspace-5 @as []

if command -v gsettings &>/dev/null; then

    # keyboard shortcuts

    for i in $(seq 9); do
    	gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-$i "['<Alt><Shift>$i']"
    	gsettings set org.gnome.desktop.wm.keybindings switch-to-workspace-$i "['<Alt>$i']"
    done
    gsettings set org.gnome.desktop.wm.keybindings move-to-workspace-10 "['<Alt><Shift>0']"

    gsettings org.gnome.desktop.wm.keybindings switch-applications ['<Super>Tab']
    gsettings org.gnome.desktop.wm.keybindings switch-applications-backward ['<Shift><Super>Tab']
    gsettings org.gnome.desktop.wm.keybindings close ['<Alt>q']
    gsettings org.gnome.desktop.wm.keybindings switch-windows ['<Alt>Tab']
    gsettings org.gnome.desktop.wm.keybindings switch-windows-backward ['<Shift><Alt>Tab']

    gsettings set org.gnome.desktop.wm.keybindings switch-to-workspace-10 "['<Alt>0']"

    # layout settings

    gsettings org.gnome.desktop.input-sources current uint32 0
    gsettings org.gnome.desktop.input-sources mru-sources [('xkb', 'us'), ('xkb', 'ru')]
    gsettings org.gnome.desktop.input-sources per-window false
    gsettings org.gnome.desktop.input-sources show-all-sources false
    gsettings org.gnome.desktop.input-sources sources [('xkb', 'us'), ('xkb', 'ru')]
    gsettings org.gnome.desktop.input-sources xkb-options ['grp:caps_toggle']

fi
